(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,n){e.exports=n(27)},18:function(e,t,n){},21:function(e,t,n){},22:function(e,t,n){},25:function(e,t,n){},27:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(5),l=n.n(r),c=(n(18),n(2)),i=(n(7),n(4)),s=n(8),u=n.n(s),m=function(e){var t=JSON.parse(localStorage.getItem(e.word.id)),n=Object(a.useState)(t||{}),r=Object(c.a)(n,2),l=r[0],s=r[1],m=l.color?l.color:"white",d=Object(a.useState)(m),g=Object(c.a)(d,2),p=g[0],w=g[1];Object(a.useEffect)(function(){var t=JSON.stringify(l);localStorage.setItem(e.word.id,t)},[l,e.word.id]);var b={onDrag:function(t,n){var a=n.x,o=n.y;s(Object(i.a)({},l,{posX:a,posY:o,word:e}))},onStop:function(e,t){window.ga("send","event","Phrase","Moved")}},E=l.posX?l.posX:0,f=l.posY?l.posY:0;return o.a.createElement(u.a,Object.assign({},b,{position:{x:E,y:f}}),o.a.createElement("div",{className:"vocabulary",style:{backgroundColor:p,color:"black",padding:"3px"},onDoubleClick:function(){w("white"),s(Object(i.a)({},l,{color:"white".color})),window.ga("send","event","Phrase","RemovedFromContext")},onClick:function(){e.currentContext&&(w(e.currentContext.color),s(Object(i.a)({},l,{color:e.currentContext.color})),window.ga("send","event","Phrase","AddedToContext"))}},e.word.text))},d=n(3),g=n.n(d),p=(n(21),function(e){window.ga("set","page","/source-text-input-page"),window.ga("send","pageview");function t(e,t){e.trim().length>0&&(t.has(e)?t.set([]):t.set(e,[]))}return e.isImportWordsDialogVisible?o.a.createElement("div",{className:"importWordsContentArea"},o.a.createElement("div",null,o.a.createElement("h2",null,"Getting Started: ",o.a.createElement("a",{href:"https://github.com/robertreppel/kubel",rel:"noopener noreferrer",target:"_blank"},"Usage Example/Walk-Through"))),o.a.createElement("div",null,o.a.createElement("h4",null,"Paste text here"),o.a.createElement("p",null,"Every line of text will be a phrase which can be grouped with other phrases to determine system boundaries based on Ubiquitous Language.")),o.a.createElement("div",null,o.a.createElement("textarea",{id:"sourceText",style:{width:"90vw"},rows:"20"})),o.a.createElement("div",null,o.a.createElement("button",{className:"button commandBtn",onClick:function(){var n=document.getElementById("sourceText").value,a=new Map;if(n.split("\n").map(function(e){var n=/^(\d*):(.*)/.exec(e);return n?(n[1],t(n[2],a)):t(e,a),null}),a.size>0){var o=[];a.forEach(function(e,t){o.push({id:g()(),text:t,count:e})}),e.setWords(o),e.setIsImportWordsDialogVisible(!1),e.setIsContextListVisible(!0),window.ga("send","event","Vocabulary","Generated")}}},"Generate Vocabulary"))):o.a.createElement(o.a.Fragment,null)}),w=n(11),b=(n(22),function(e){return e.currentContext&&e.currentContext.id===e.context.id?o.a.createElement("span",{className:"currentContext",onClick:E(e),style:{backgroundColor:e.context.color}},e.context.name):o.a.createElement("span",{className:"context",onClick:E(e),style:{backgroundColor:e.context.color}},e.context.name)});function E(e){return function(){e.currentContext&&e.context.id===e.currentContext.id?e.setCurrentContext(null):e.setCurrentContext(e.context)}}var f=function(e){function t(){for(var e="#",t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e}return o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{style:{marginRight:"10px"}},o.a.createElement("input",{id:"newContextName"})),o.a.createElement("span",null,o.a.createElement("button",{className:"button commandBtn",onClick:function(){var n=document.getElementById("newContextName"),a=n.value.trim();if(a.length>0){var o={id:g()(),name:a,color:t()};n.value="",e.createNewBoundedContext(o)}}},"Create")))},v=function(e){window.ga("set","page","/bounded-contexts-page"),window.ga("send","pageview");var t=JSON.parse(localStorage.getItem("contexts")),n=Object(a.useState)(t||[]),r=Object(c.a)(n,2),l=r[0],i=r[1];return Object(a.useEffect)(function(){var e=JSON.stringify(l);localStorage.setItem("contexts",e)},[l]),e.isContextListVisible?o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement("span",null,o.a.createElement("h4",{style:{display:"inline-block",marginRight:"10px",color:" #F8FAFB"}},"Contexts")),o.a.createElement(f,{createNewBoundedContext:function(e){i([].concat(Object(w.a)(l),[e])),window.ga("send","event","Context","Created")}})),0===l.length?o.a.createElement(x,null):o.a.createElement(o.a.Fragment,null,o.a.createElement("hr",{style:{color:"#F8FAFB"}}),o.a.createElement("div",{className:"contextList"},l.map(function(t){return o.a.createElement(b,{key:t.id,setCurrentContext:e.setCurrentContext,currentContext:e.currentContext,context:t})})))):o.a.createElement(o.a.Fragment,null)},x=function(){return o.a.createElement("ol",{className:"onboardingText"},o.a.createElement("li",{className:"onboardingTextLine"},"Drag & Drop phrases which belong together into groups. "),o.a.createElement("li",{className:"onboardingTextLine"},"Create & select bounded contexts."),o.a.createElement("li",{className:"onboardingTextLine"},"Click phrases to mark them as belonging to the currently selected context."))},h=n(10),C=function(e){var t=Object(a.useCallback)(function(e){var t=new FileReader;t.onabort=function(){return console.log("file reading was aborted")},t.onerror=function(){return console.log("file reading has failed")},t.onload=function(){var e=t.result;JSON.parse(e).forEach(function(e){localStorage.setItem(e.key,JSON.stringify(e.item))}),window.location.reload()},e.forEach(function(e){return t.readAsBinaryString(e)}),window.ga("send","event","Project","Imported")},[]),n=Object(h.a)({onDrop:t}),r=n.getRootProps,l=n.getInputProps;return e.isFileImportVisible?o.a.createElement("div",Object.assign({className:"importFileDropzone"},r()),o.a.createElement("input",l()),o.a.createElement("p",null,o.a.createElement("strong",null,"Import Project:")," Drag 'n' drop a previously exported Kubel file here, or click to select file")):o.a.createElement(o.a.Fragment,null)},N=(n(25),function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"logoText"},o.a.createElement("h2",null,"Kubel")),o.a.createElement("p",{className:"navText"},"Service Boundary Explorer"),o.a.createElement("div",{className:"menuItem"},o.a.createElement("button",{className:"menu",onClick:function(){window.ga("set","page","/new-project"),window.ga("send","pageview");var e=window.confirm("Creating a new Kubel project will delete everything here.");window.ga("send","event","Project","Created"),!0===e&&(localStorage.clear(),window.location.reload())}},"New")),o.a.createElement("div",{className:"menuItem"},o.a.createElement("button",{className:"menu",onClick:e.toggleImportFileDragAreaVisible},"Import")),o.a.createElement("div",{className:"menuItem"},o.a.createElement("button",{className:"menu",onClick:function(){window.ga("set","page","/export-project"),window.ga("send","pageview");var e=[];for(var t in localStorage){var n=JSON.parse(localStorage.getItem(t));e.push({key:t,item:n})}var a=window.prompt("Export file name:");a||(a="Untitled"),a.includes(".")||(a="".concat(a,".json")),function(e,t,n){var a=document.createElement("a"),o=new Blob([e],{type:n});a.href=URL.createObjectURL(o),a.download=t,a.click()}(JSON.stringify(e),a,"text/json"),window.ga("send","event","Project","Exported")}},"Export")))}),O=function(){var e=Object(a.useState)(null),t=Object(c.a)(e,2),n=t[0],r=t[1],l=JSON.parse(localStorage.getItem("words")),i=Object(a.useState)(l||[]),s=Object(c.a)(i,2),u=s[0],d=s[1],g=Object(a.useState)(!(l&&l.length>0)),w=Object(c.a)(g,2),b=w[0],E=w[1],f=Object(a.useState)(!!(l&&l.length>0)),x=Object(c.a)(f,2),h=x[0],O=x[1],j=Object(a.useState)(!1),k=Object(c.a)(j,2),y=k[0],S=k[1];Object(a.useEffect)(function(){var e=JSON.stringify(u);localStorage.setItem("words",e)},[u]);return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"forkOnGithub"},o.a.createElement("a",{href:"https://github.com/robertreppel/kubel"},o.a.createElement("img",{width:"149",height:"149",src:"https://github.blog/wp-content/uploads/2008/12/forkme_right_green_007200.png?resize=149%2C149",className:"attachment-full size-full",alt:"Fork me on GitHub","data-recalc-dims":"1"}))),o.a.createElement("div",{className:"page"},o.a.createElement("div",{className:"App-header"},o.a.createElement(N,{toggleImportFileDragAreaVisible:function(){window.ga("set","page","/import-project"),window.ga("send","pageview"),S(!y)}})),o.a.createElement("div",{style:{backgroundColor:"#81A3D9",paddingLeft:"10px",paddingRight:"10px"}},o.a.createElement(v,{currentContext:n,setCurrentContext:r,isContextListVisible:h})),o.a.createElement("div",{className:"content"},o.a.createElement(C,{isFileImportVisible:y}),u.map(function(e){return o.a.createElement(m,{key:e.id,word:e,currentContext:n})}),o.a.createElement(p,{isImportWordsDialogVisible:b,setIsImportWordsDialogVisible:E,setWords:d,setIsContextListVisible:O}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(26);window.ga("create","UA-129959304-5","auto"),window.ga("require","eventTracker"),window.ga("send","pageview"),l.a.render(o.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},7:function(e,t,n){}},[[12,1,2]]]);
//# sourceMappingURL=main.b669b7b4.chunk.js.map